{"version":3,"sources":["components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","screens/HomeScreen.js","screens/ProductScreen.js","components/Message.js","screens/LoginScreen.js","screens/CartScreen.js","screens/AddScreen.js","screens/MyProductsScreen.js","App.js","reducers/prodReducer.js","reducers/userReducer.js","reducers/cartReducer.js","index.js"],"names":["Header","user","useSelector","state","dispatch","useDispatch","cart","cartItems","reduce","acc","item","qty","useEffect","loggedUserJSON","window","localStorage","getItem","data","JSON","parse","type","name","isAdmin","clearLog","removeItem","SignIn","to","onClick","Nav","Link","className","Navbar","bg","expand","Container","Brand","Toggle","aria-controls","Collapse","id","length","Footer","Row","Col","Rating","rating","numReviews","reviewFunc","Product","prod","Card","_id","Img","variant","src","image","slice","Body","Title","Text","as","price","HomeScreen","products","a","axios","get","fetchProds","map","sm","md","lg","xl","ProductScreen","match","history","useHistory","find","p","params","console","log","submitReview","reviewValue","reviewItem","reviews","filter","review","oldVal","rev","push","newProd","post","modProd","addToCart","product","Image","alt","fluid","ListGroup","Item","description","countInStock","Button","disabled","Message","message","Alert","LoginScreen","useState","username","setUsername","password","setPassword","error","setError","login","email","jwt","setItem","stringify","setTimeout","Form","Group","controlId","Label","Control","placeholder","onChange","event","target","value","class","CartScreen","rounded","e","Number","Array","keys","x","toFixed","AddScreen","setMessage","setName","brand","setBrand","category","setCategory","setDesc","setPrice","setStock","setImage","uploadHandler","file","files","formData","FormData","append","prodHandler","preventDefault","action","onSubmit","required","rows","defaultValue","MyProductsScreen","myProds","newPrice","ok","newStock","onBlur","App","path","component","prodReducer","modifiedProd","main","concat","userReducer","cartReducer","exisObj","cartObj","persistConfig","key","storage","reducers","combineReducers","persistedReducer","persistReducer","store","createStore","composeWithDevTools","persistor","persistStore","ReactDOM","render","loading","document","getElementById"],"mappings":"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","file":"static/js/main.cb22c471.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Navbar, Nav, Container } from 'react-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst Header = () => {\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const cart = useSelector((state) => state.cart);\n  const cartItems = cart.reduce((acc, item) => acc + item.qty, 0);\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedIn');\n    if (loggedUserJSON) {\n      const data = JSON.parse(loggedUserJSON);\n      dispatch({\n        type: 'LOGIN',\n        data: { name: data.name, isAdmin: data.isAdmin },\n      });\n    }\n  }, [dispatch]);\n\n  const clearLog = () => {\n    dispatch({ type: 'LOGOUT' });\n    dispatch({ type: 'CLEAR' });\n    window.localStorage.removeItem('loggedIn');\n  };\n\n  const SignIn = () => {\n    if (user.name) {\n      return (\n        <LinkContainer to=\"/\" onClick={clearLog}>\n          <Nav.Link>\n            <i className=\"fas fa-user\"></i>\n            Sign out ({user.name})\n          </Nav.Link>\n        </LinkContainer>\n      );\n    } else {\n      return (\n        <LinkContainer to=\"/login\">\n          <Nav.Link>\n            <i className=\"fas fa-user\"></i>\n            Sign In\n          </Nav.Link>\n        </LinkContainer>\n      );\n    }\n  };\n\n  const MyProds = () => {\n    return (\n      <LinkContainer to=\"/edit\">\n        <Nav.Link>\n          <i className=\"fas fa-list\"></i>\n          My Products\n        </Nav.Link>\n      </LinkContainer>\n    );\n  };\n\n  const AddProd = () => {\n    return (\n      <LinkContainer to=\"/add\">\n        <Nav.Link>\n          <i className=\"fas fa-plus-square\"></i>\n          Add Product\n        </Nav.Link>\n      </LinkContainer>\n    );\n  };\n\n  return (\n    <header>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Container>\n          <LinkContainer to=\"/\">\n            <Navbar.Brand>AbduSouq</Navbar.Brand>\n          </LinkContainer>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"ms-auto\">\n              {user.isAdmin ? AddProd() : null}\n              {user.name ? MyProds() : null}\n              <LinkContainer to=\"/cart\">\n                <Nav.Link>\n                  <i className=\"fas fa-shopping-cart\"></i>Cart (\n                  {cart.length === 0 ? '' : cartItems})\n                </Nav.Link>\n              </LinkContainer>\n              <SignIn />\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nconst Footer = () => {\n  return (\n    <div>\n      <Container>\n        <Row>\n          <Col className=\"text-center py-3\">Copyright &copy; AbduSouq</Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React from 'react';\n\nconst Rating = ({ rating, numReviews, reviewFunc }) => {\n  return (\n    <div className=\"rating\">\n      <span>\n        <i\n          className={\n            rating >= 1\n              ? 'fas fa-star'\n              : rating >= 0.5\n              ? 'fas fa-star-half-alt'\n              : 'far fa-star'\n          }\n          onClick={() => reviewFunc(1)}\n        ></i>\n        <i\n          className={\n            rating >= 2\n              ? 'fas fa-star'\n              : rating >= 1.5\n              ? 'fas fa-star-half-alt'\n              : 'far fa-star'\n          }\n          onClick={() => reviewFunc(2)}\n        ></i>\n        <i\n          className={\n            rating >= 3\n              ? 'fas fa-star'\n              : rating >= 2.5\n              ? 'fas fa-star-half-alt'\n              : 'far fa-star'\n          }\n          onClick={() => reviewFunc(3)}\n        ></i>\n        <i\n          className={\n            rating >= 4\n              ? 'fas fa-star'\n              : rating >= 3.5\n              ? 'fas fa-star-half-alt'\n              : 'far fa-star'\n          }\n          onClick={() => reviewFunc(4)}\n        ></i>\n        <i\n          className={\n            rating >= 5\n              ? 'fas fa-star'\n              : rating >= 4.5\n              ? 'fas fa-star-half-alt'\n              : 'far fa-star'\n          }\n          onClick={() => reviewFunc(5)}\n        ></i>\n      </span>\n      <span>{numReviews && numReviews} reviews </span>\n    </div>\n  );\n};\n\nexport default Rating;\n","import React from 'react';\nimport { Card } from 'react-bootstrap';\nimport Rating from './Rating';\nimport { Link } from 'react-router-dom';\nconst Product = ({ prod }) => {\n  const placeholder = '/images/reacticon.jpeg';\n\n  return (\n    <div>\n      <Card className=\"my-3 p-3 rounded\" key={prod._id}>\n        <Link to={`/products/${prod._id}`}>\n          <Card.Img\n            variant=\"top\"\n            src={prod.image.slice(8, 13) === 'image' ? placeholder : prod.image}\n          />\n        </Link>\n        <Card.Body>\n          <Link to={`/products/${prod._id}`}>\n            <Card.Title>\n              <strong>{prod.name}</strong>\n            </Card.Title>\n          </Link>\n          <Card.Text as=\"div\">\n            <Rating\n              rating={prod.rating}\n              numReviews={prod.numReviews}\n              reviewFunc={() => void 0}\n            />\n          </Card.Text>\n          <Card.Text as=\"h3\">{prod.price}</Card.Text>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default Product;\n","import React, { useEffect } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport Product from '../components/Product';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst HomeScreen = () => {\n  const dispatch = useDispatch();\n  const products = useSelector((state) => state.products);\n  useEffect(() => {\n    const fetchProds = async () => {\n      const { data } = await axios.get('/api/products');\n      dispatch({ type: 'INIT', data });\n    };\n    fetchProds();\n  }, [dispatch]);\n  return (\n    <>\n      <h1>Latest Products</h1>\n      <Row>\n        {products.map((prod) => (\n          <Col sm={12} md={6} lg={4} xl={3} key={prod._id}>\n            <Product prod={prod} />\n          </Col>\n        ))}\n      </Row>\n    </>\n  );\n};\n\nexport default HomeScreen;\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Row, Col, Image, ListGroup, Card, Button } from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nconst ProductScreen = ({ match }) => {\n  const user = JSON.parse(window.localStorage.getItem('loggedIn'));\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const placeholder = '/images/reacticon.jpeg';\n  const prod = useSelector((state) =>\n    state.products.find((p) => p._id === match.params.id)\n  );\n  console.log(prod.image.slice(8, 13) === 'image');\n  console.log(prod.image);\n  const submitReview = async (reviewValue) => {\n    const reviewItem = { id: user.id, reviewValue };\n    let rating =\n      (prod.rating * prod.numReviews + reviewValue) / (prod.numReviews + 1);\n    let numReviews = prod.numReviews + 1;\n    const reviews = prod.reviews.filter((review) => review.id !== user.id);\n    console.log(reviews);\n    console.log(prod.reviews);\n    if (reviews.length < prod.reviews.length) {\n      const oldVal = prod.reviews.find((rev) => rev.id === user.id);\n      rating = (rating * numReviews - oldVal.reviewValue) / (numReviews - 1);\n      numReviews = numReviews - 1;\n    }\n    reviews.push(reviewItem);\n    const newProd = {\n      ...prod,\n      rating,\n      numReviews,\n      reviews,\n    };\n\n    try {\n      const modProd = await axios.post('/api/products/update', newProd);\n      dispatch({ type: 'MODIFY', data: modProd.data });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  if (typeof prod == 'undefined') {\n    history.push('/');\n  }\n  const addToCart = async (product) => {\n    await dispatch({ type: 'ADD', data: product });\n  };\n\n  return (\n    <>\n      <Link className=\"btn btn-light my-3 \" to=\"/\">\n        Go Back\n      </Link>\n      <Row>\n        <Col md={6}>\n          <Image\n            src={prod.image.slice(8, 13) === 'image' ? placeholder : prod.image}\n            alt={prod.name}\n            fluid\n          />\n        </Col>\n\n        <Col md={3}>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              <h3>{prod.name}</h3>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Rating\n                rating={prod.rating}\n                numReviews={prod.numReviews}\n                reviewFunc={submitReview}\n              />\n            </ListGroup.Item>\n            <ListGroup.Item>Price: $ {prod.price}</ListGroup.Item>\n            <ListGroup.Item>Description: {prod.description}</ListGroup.Item>\n          </ListGroup>\n        </Col>\n        <Col md={3}>\n          <Card>\n            <ListGroup variant=\"flush\">\n              <ListGroup.Item>\n                <Row>\n                  <Col>Price:</Col>\n                  <Col>\n                    <strong> ${prod.price}</strong>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            </ListGroup>\n            <ListGroup variant=\"flush\">\n              <ListGroup.Item>\n                <Row>\n                  <Col>Status:</Col>\n                  <Col>\n                    <strong>\n                      ${prod.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\n                    </strong>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Button\n                  className=\"btn-block\"\n                  type=\"button\"\n                  disabled={prod.countInStock === 0}\n                  onClick={() => addToCart(prod)}\n                >\n                  Add to Cart\n                </Button>\n              </ListGroup.Item>\n            </ListGroup>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default ProductScreen;\n","import React from 'react';\nimport { Alert } from 'react-bootstrap';\n\nconst Message = ({ message }) => {\n  if (message === 'loginError') {\n    return <Alert variant={'danger'}>Invalid Creds!</Alert>;\n  } else if (message === 'successfulAdd') {\n    return <Alert variant={'success'}>Your product has been added!</Alert>;\n  }\n  return <></>;\n};\n\nexport default Message;\n","import React, { useState } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport Message from '../components/Message';\nimport { useDispatch } from 'react-redux';\nconst LoginScreen = () => {\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const login = async () => {\n    try {\n      const jwt = await axios.post('/users/login', {\n        email: username,\n        password,\n      });\n      window.localStorage.setItem('loggedIn', JSON.stringify(jwt.data));\n      const data = {\n        name: jwt.data.name,\n        isAdmin: jwt.data.isAdmin,\n      };\n      dispatch({ type: 'LOGIN', data });\n      history.push('/');\n    } catch (error) {\n      setError('loginError');\n      setTimeout(() => setError(''), 5000);\n    }\n  };\n  return (\n    <Form>\n      <Message message={error} />\n      <Form.Group controlId=\"formBasicEmail\">\n        <Form.Label>Email address</Form.Label>\n        <Form.Control\n          type=\"email\"\n          placeholder=\"Enter email\"\n          onChange={(event) => setUsername(event.target.value)}\n        />\n        <Form.Text className=\"text-muted\">\n          We'll never share your email with anyone else.\n        </Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"formBasicPassword\">\n        <Form.Label>Password</Form.Label>\n        <Form.Control\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(event) => setPassword(event.target.value)}\n        />\n      </Form.Group>\n      <div class=\"text-center\">\n        <Button variant=\"primary\" onClick={() => login()}>\n          Submit\n        </Button>\n      </div>\n    </Form>\n  );\n};\n\nexport default LoginScreen;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Row,\n  Col,\n  Image,\n  ListGroup,\n  Card,\n  Button,\n  Form,\n} from 'react-bootstrap';\nimport Message from '../components/Message';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst CartScreen = () => {\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart);\n\n  return (\n    <Row>\n      <Col md={8}>\n        <h1>Shopping Cart</h1>\n        {cart.length === 0 ? (\n          <Message>\n            Your cart is empty <Link to=\"/\">Go Back</Link>\n          </Message>\n        ) : (\n          <ListGroup variant=\"flush\">\n            {cart.map((item) => (\n              <ListGroup.Item key={item._id}>\n                <Row>\n                  <Col md={2}>\n                    <Image src={item.image} alt={item.name} fluid rounded />\n                  </Col>\n                  <Col md={3}>\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\n                  </Col>\n                  <Col md={2}>${item.price}</Col>\n                  <Col md={2}>\n                    <Form.Control\n                      as=\"select\"\n                      value={item.qty}\n                      onChange={(e) =>\n                        dispatch({\n                          type: 'UPDATE',\n                          data: { id: item._id, qty: Number(e.target.value) },\n                        })\n                      }\n                    >\n                      {[...Array(item.countInStock).keys()].map((x) => (\n                        <option key={x + 1} value={x + 1}>\n                          {x + 1}\n                        </option>\n                      ))}\n                    </Form.Control>\n                  </Col>\n                  <Col md={2}>\n                    <Button\n                      type=\"button\"\n                      variant=\"light\"\n                      onClick={() =>\n                        dispatch({ type: 'REMOVE', data: item._id })\n                      }\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </Button>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n        )}\n      </Col>\n      <Col md={4}>\n        <Card>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              <h2>\n                Subtotal ({cart.reduce((acc, item) => acc + item.qty, 0)}) items\n              </h2>\n              $\n              {cart\n                .reduce((acc, item) => acc + item.qty * item.price, 0)\n                .toFixed(2)}\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Button type=\"button\" className=\"btn-block\" disabled>\n                Proceed To Checkout\n              </Button>\n            </ListGroup.Item>\n          </ListGroup>\n        </Card>\n      </Col>\n    </Row>\n  );\n};\n\nexport default CartScreen;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Col, Form, Row, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport Message from '../components/Message';\nconst AddScreen = () => {\n  const [message, setMessage] = useState('');\n  const [name, setName] = useState('');\n  const [brand, setBrand] = useState('');\n  const [category, setCategory] = useState('');\n  const [description, setDesc] = useState('');\n  const [price, setPrice] = useState(0);\n  const [countInStock, setStock] = useState(1);\n  const [image, setImage] = useState('');\n\n  const history = useHistory();\n  const user = JSON.parse(window.localStorage.getItem('loggedIn'));\n  if (!user.isAdmin) {\n    history.push('/');\n  }\n\n  const uploadHandler = async (e) => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append('image', file);\n    try {\n      const { data } = await axios.post('/api/imgs/imgUpload', formData);\n      setImage(data.image);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const prodHandler = async (e) => {\n    e.preventDefault();\n    const product = {\n      name,\n      brand,\n      category,\n      description,\n      price,\n      countInStock,\n      image,\n      user: user.id,\n    };\n    try {\n      const { data } = await axios.post('/api/products/addNew', product);\n      if (data) {\n        setMessage('successfulAdd');\n        setTimeout(() => setMessage(''), 15000);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <Message message={message} />\n      <Form action=\"#\" onSubmit={prodHandler}>\n        <Form.Row>\n          <Form.Group controlId=\"ProductName\">\n            <Form.Label>Product Name:</Form.Label>\n            <Form.Control\n              required\n              onChange={(event) => setName(event.target.value)}\n            />\n          </Form.Group>\n        </Form.Row>\n        <Row>\n          <Col>\n            <Form.Label>Brand:</Form.Label>\n            <Form.Control\n              required\n              onChange={(event) => setBrand(event.target.value)}\n            />\n          </Col>\n          <Col>\n            <Form.Label>Category:</Form.Label>\n            <Form.Control\n              required\n              onChange={(event) => setCategory(event.target.value)}\n            />\n          </Col>\n        </Row>\n        <Form.Group controlId=\"DescrArea\">\n          <Form.Label>Description:</Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            rows={3}\n            onChange={(event) => setDesc(event.target.value)}\n          />\n        </Form.Group>\n        <Row></Row>\n        <Row>\n          <Form.Group as={Col} controlId=\"formGridPrice\">\n            <Form.Label>Price:</Form.Label>\n            <Form.Control\n              required\n              onChange={(event) => setPrice(event.target.value)}\n            />\n          </Form.Group>\n          <Form.Group as={Col} controlId=\"formStock\">\n            <Form.Label>Count in Stock:</Form.Label>\n            <Form.Control\n              required\n              defaultValue=\"1\"\n              onChange={(event) => setStock(event.target.value)}\n            />\n          </Form.Group>\n        </Row>\n        <Form.Group controlId=\"formFile\" className=\"mb-3\">\n          <Form.Label>Product Image</Form.Label>\n          <Form.Control type=\"file\" onChange={uploadHandler} />\n        </Form.Group>\n        <Button type=\"submit\">Add Product</Button>\n      </Form>\n    </>\n  );\n};\n\nexport default AddScreen;\n\n// user: { type: mongoose.Schema.Types.ObjectId, required: true, ref: 'User' },\n// name: { type: String, required: true },\n// image: { type: String, required: true },\n// brand: { type: String, required: true },\n// category: { type: String, required: true },\n// description: { type: String, required: true },\n// price: { type: Number, required: true },\n// countInStock: { type: Number, required: true },\n// rating: { type: Number, required: true, default: 0 },\n// numReviews: { type: Number, required: true, default: 0 },\n// reviews: [reviewSchema],\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Row, Col, Image, ListGroup, Form } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\n\nconst MyProductsScreen = () => {\n  const history = useHistory();\n  const user = JSON.parse(window.localStorage.getItem('loggedIn')).id;\n  const myProds = useSelector((state) =>\n    state.products.filter((prod) => prod.user === user)\n  );\n\n  if (myProds.length === 0) {\n    history.push('/');\n  }\n\n  const newPrice = async (e, prod) => {\n    const newProd = prod;\n    if (e[0] === '$') {\n      newProd.price = Number(e.slice(1));\n    } else {\n      newProd.price = Number(e);\n    }\n    console.log(newProd);\n    try {\n      const ok = await axios.post('/api/products/update', newProd);\n      console.log(ok.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const newStock = async (e, prod) => {\n    const newProd = prod;\n    newProd.countInStock = e;\n    try {\n      await axios.post('/api/products/update', newProd);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return (\n    <Row>\n      <Col md={12}>\n        <h1>My Products</h1>\n        <ListGroup variant=\"flush\">\n          {myProds.map((item) => (\n            <ListGroup.Item key={item._id}>\n              <Row>\n                <Col md={2}>\n                  <Image src={item.image} alt={item.name} fluid rounded />\n                </Col>\n                <Col md={3}>\n                  <Link to={`/product/${item.product}`}>{item.name}</Link>\n                </Col>\n                <Col md={3}>\n                  <Form.Control\n                    value={item.qty}\n                    defaultValue={`$${item.price}`}\n                    onBlur={(e) => newPrice(e.target.value, item)}\n                  ></Form.Control>\n                </Col>\n                <Col md={3}>\n                  <Form.Control\n                    value={item.qty}\n                    defaultValue={item.countInStock}\n                    onBlur={(e) => newStock(e.target.value, item)}\n                  ></Form.Control>\n                </Col>\n              </Row>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      </Col>\n    </Row>\n  );\n};\n\nexport default MyProductsScreen;\n","import React from 'react';\nimport { Container } from 'react-bootstrap';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport LoginScreen from './screens/LoginScreen';\nimport CartScreen from './screens/CartScreen';\nimport AddScreen from './screens/AddScreen';\nimport MyProductsScreen from './screens/MyProductsScreen';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n// import { useSelector } from 'react-redux';\n\nfunction App() {\n  // const user = useSelector((state) => state.user);\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <main className=\"py-3\">\n          <Container>\n            <Switch>\n              <Route path=\"/products/:id\" component={ProductScreen} />\n              <Route path=\"/login\" component={LoginScreen} />\n              <Route path=\"/logout\" component={HomeScreen} />\n              <Route path=\"/add\" component={AddScreen} />\n              <Route path=\"/cart\" component={CartScreen} />\n              <Route path=\"/edit\" component={MyProductsScreen} />\n              <Route path=\"/\" component={HomeScreen} />\n            </Switch>\n          </Container>\n        </main>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const prodReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'INIT':\n      return action.data;\n    case 'MODIFY':\n      const modifiedProd = action.data;\n      const main = state.filter((item) => item._id !== modifiedProd._id);\n      return main.concat(modifiedProd);\n    default:\n      return state;\n  }\n};\n\nexport default prodReducer;\n","const userReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return action.data;\n    case 'LOGOUT':\n      return {};\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","const cartReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD':\n      try {\n        const exisObj = state.find(\n          (cartObj) => cartObj._id === action.data._id\n        );\n        if (exisObj.qty > 0 && exisObj.qty < exisObj.countInStock) {\n          exisObj.qty += 1;\n        }\n        return state\n          .filter((cartObj) => cartObj._id !== action.data._id)\n          .concat(exisObj);\n      } catch {\n        return state.concat({ ...action.data, qty: 1 });\n      }\n    case 'UPDATE':\n      const exisObj = state.find((cartObj) => cartObj._id === action.data.id);\n      exisObj.qty = action.data.qty;\n      return state\n        .filter((cartObj) => cartObj._id !== action.data.id)\n        .concat(exisObj);\n    case 'REMOVE':\n      return state.filter((item) => item._id !== action.data);\n    case 'CLEAR':\n      return [];\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport { createStore, combineReducers } from 'redux';\nimport { Provider } from 'react-redux';\nimport prodReducer from './reducers/prodReducer';\nimport userReducer from './reducers/userReducer';\nimport cartReducer from './reducers/cartReducer';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web\nimport { PersistGate } from 'redux-persist/integration/react';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n};\nconst reducers = combineReducers({\n  products: prodReducer,\n  user: userReducer,\n  cart: cartReducer,\n});\nconst persistedReducer = persistReducer(persistConfig, reducers);\n\nconst store = createStore(persistedReducer, composeWithDevTools());\nconst persistor = persistStore(store);\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}